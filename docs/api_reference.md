# üì° REST API Reference (Crow Server)

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î REST API, —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —É –±–µ–∫–µ–Ω–¥—ñ –Ω–∞ **Crow (C++)**. –í—Å—ñ –∑–∞–ø–∏—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å —É JSON-—Ñ–æ—Ä–º–∞—Ç—ñ.

---

## üîó –ë–∞–∑–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è |
|-----------|-----------|
| Base URL | `http://localhost:8080/api` |
| –§–æ—Ä–º–∞—Ç | `application/json` |
| –ú–µ—Ç–æ–¥–∏ | `GET`, `POST`, `DELETE` |

---

## üìö 1. –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å—ñ–≤

### `GET /courses`
–ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å—ñ–≤.

**–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
```json
[
  {
    "id": 1,
    "title": "Intro to Python",
    "domain": "Programming",
    "level": "Beginner",
    "durationHours": 8,
    "score": 0.95,
    "tags": ["python", "basics"],
    "prereqIds": []
  }
]
```

**–ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `200 OK` ‚Äî —É—Å–ø—ñ—à–Ω–æ
- `500 Internal Server Error` ‚Äî –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ —Ñ–∞–π–ª—É

---

## üß† 2. –ü–æ–±—É–¥–æ–≤–∞ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω—É

### `POST /recommendations`
–§–æ—Ä–º—É—î –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**Body (JSON):**
```json
{
  "userId": 1,
  "targetDomain": "Data Science",
  "currentLevel": "Beginner",
  "interests": ["python", "ml"],
  "hoursPerWeek": 6,
  "deadlineWeeks": 8
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "userId": 1,
  "totalHours": 42,
  "steps": [
    { "step": 1, "courseId": 2, "hours": 8, "note": "Start with basics" },
    { "step": 2, "courseId": 4, "hours": 10, "note": "Intermediate topics" }
  ]
}
```

**–ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `200 OK` ‚Äî —É—Å–ø—ñ—à–Ω–æ
- `400 Bad Request` ‚Äî –ø–æ–º–∏–ª–∫–∞ —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ JSON
- `500 Internal Server Error` ‚Äî –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—ñ –ø–ª–∞–Ω—É

---

## üíæ 3. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è / –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–ª–∞–Ω—ñ–≤

### `GET /plans/:userId`
–û—Ç—Ä–∏–º—É—î –æ—Å—Ç–∞–Ω–Ω—ñ–π –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π –ø–ª–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /plans/1`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "userId": 1,
  "steps": [...],
  "totalHours": 40
}
```

**–ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `200 OK` ‚Äî –ø–ª–∞–Ω –∑–Ω–∞–π–¥–µ–Ω–æ
- `404 Not Found` ‚Äî –ø–ª–∞–Ω –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

---

### `POST /plans/:userId`
–ó–±–µ—Ä—ñ–≥–∞—î –ø–ª–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**Body (JSON):**
```json
{
  "steps": [...],
  "totalHours": 40
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{"status":"ok"}
```

---

### `DELETE /plans/:userId`
–í–∏–¥–∞–ª—è—î –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π –ø–ª–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{"status":"deleted"}
```

**–ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `200 OK` ‚Äî —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ
- `404 Not Found` ‚Äî —Ñ–∞–π–ª –≤—ñ–¥—Å—É—Ç–Ω—ñ–π

---

## ‚öôÔ∏è 4. –°–ª—É–∂–±–æ–≤—ñ –º–∞—Ä—à—Ä—É—Ç–∏

### `GET /health`
–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–±–æ—Ç—É —Å–µ—Ä–≤–µ—Ä–∞.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{"status":"ok","version":"1.0"}
```

### `GET /info`
–ü–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä–æ—Ç–∫—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–∏—Å—Ç–µ–º—É.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "name": "Course Recommendation Platform",
  "backend": "Crow C++",
  "frontend": "PyQt Python"
}
```

---

## üîê 5. –ú–∞–π–±—É—Ç–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
| –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è | Endpoint | –û–ø–∏—Å |
|-------------|-----------|------|
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è | `/auth/login`, `/auth/register` | JWT —Ç–æ–∫–µ–Ω–∏ |
| –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ | `/stats/:userId` | —ñ—Å—Ç–æ—Ä—ñ—è –ø–ª–∞–Ω—ñ–≤ |
| AI –ø–æ—è—Å–Ω–µ–Ω–Ω—è | `/ai/explain` | –ø–æ—è—Å–Ω–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó |

---

## üß© –ü—Ä–∏–º—ñ—Ç–∫–∏
- –£—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –º–∞—é—Ç—å —Ñ–æ—Ä–º–∞—Ç `application/json`.
- –°–µ—Ä–≤–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î **–±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—å** (Crow `multithreaded()` —Ä–µ–∂–∏–º).
- –ü—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—Ç –∞–±–æ –±–∞–∑–æ–≤–∏–π —à–ª—è—Ö —É `server.cpp`.