{% extends 'recommendations/base.html' %}

{% block title %}Home - Course Recommendation Platform{% endblock %}

{% block content %}
<div class="card">
    <h2>Create Your Personalized Learning Plan</h2>
    <p style="margin-bottom: 2rem; color: #666;">Fill out the form below to receive a customized course recommendation based on your goals and preferences.</p>

    <form method="post" action="{% url 'recommendations:get_recommendations' %}">
        {% csrf_token %}

        <div class="algorithm-selector">
            <div class="algorithm-option">
                <input type="radio" id="greedy" name="algorithm" value="greedy" checked>
                <label for="greedy">
                    <strong>âš¡ Greedy Algorithm</strong>
                    <div style="font-size: 0.85rem; margin-top: 0.5rem; opacity: 0.8;">Fast & deterministic</div>
                </label>
            </div>
            <div class="algorithm-option">
                <input type="radio" id="ai" name="algorithm" value="ai">
                <label for="ai">
                    <strong>ðŸ¤– AI-Powered</strong>
                    <div style="font-size: 0.85rem; margin-top: 0.5rem; opacity: 0.8;">Smart & personalized</div>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label for="userId">User ID:</label>
            <input type="number" id="userId" name="userId" value="1" min="1" required>
        </div>

        <div class="form-group">
            <label for="targetDomain">Target Domain:</label>
            <select id="targetDomain" name="targetDomain" required>
                <option value="">Select a domain...</option>
                {% for domain in domains %}
                <option value="{{ domain }}">{{ domain }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="currentLevel">Current Level:</label>
            <select id="currentLevel" name="currentLevel" required>
                {% for level in levels %}
                <option value="{{ level }}">{{ level }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="interests">Interests (comma-separated tags):</label>
            <input type="text" id="interests" name="interests"
                   placeholder="e.g., python, machine-learning, web" required>
            <small style="color: #666;">Enter keywords separated by commas</small>
        </div>

        <div class="form-group">
            <label for="hoursPerWeek">Hours Available Per Week:</label>
            <input type="number" id="hoursPerWeek" name="hoursPerWeek"
                   value="10" min="1" max="40" required>
        </div>

        <div class="form-group">
            <label for="deadlineWeeks">Deadline (weeks):</label>
            <input type="number" id="deadlineWeeks" name="deadlineWeeks"
                   value="12" min="1" max="52" required>
        </div>

        <button type="submit" class="btn">Generate Learning Plan</button>
    </form>
</div>

<div class="card">
    <h3>Quick Stats</h3>
    <p style="color: #666;">Total available courses: <strong>{{ courses|length }}</strong></p>
    <p style="color: #666;">Available domains: <strong>{{ domains|length }}</strong></p>
    <a href="{% url 'recommendations:catalog' %}" class="btn" style="margin-top: 1rem;">Browse All Courses</a>
</div>
{% endblock %}
